version: 1.0.0

resources:
  - name: builds
    type: restful
    uri: "http://182.92.157.77:7003/api/v1/builds"
  - name: signin
    type: restful
    uri: "http://127.0.0.1:8080/users/signin"
  - name: nav
    type: static
    value:
      - key: 基础服务
        label: infras
        path: /base
      - key: 管理
        label: mange
        path: /mange
  - name: menu
    type: static
    value:
      - key: 基础服务
        label: infras
        path: /base
      - key: 管理
        label: mange
        path: /mange
     
authorization:
  type: cookie
  key: access
  unlogin:
    redirect: /login

externals:
  - type: script
    uri: https://cdnjs.cloudflare.com/ajax/libs/antd/4.6.4/antd.min.js
  - type: style
    uri: https://cdnjs.cloudflare.com/ajax/libs/antd/4.6.4/antd.min.css

components:
  - name: nav-layout
    source: 
      type: uri
      uri: https://onepaas.oss-cn-beijing.aliyuncs.com/ux/lnm-nav-layout/1.0.0/dist/main-1.0.0.min.js
      path: '@lnm/nav-layout'
  - name: 'datatable'
    source: 
      type: local
      path: antd.Table
  - name: 'nav'
    source: 
      type: local
      path: antd.Menu
  - name: 'menu'
    source: 
      type: local
      path: antd.Menu

pages:
  - name: login
    path: /
    layout:
      name: nav-layout
      statics:
        logoSrc: https://circleci.com/docs/assets/img/logos/logo-wordmark.svg
      resources:
        - nav
        - leftMenu: menu
    components:
      - name: datatable
        slot: content

  - name: ets
    path: /entries
    layout: nav-layout
    resources:
      - datasources: entries
    components:
      - name: datatable
        slot: content
       
